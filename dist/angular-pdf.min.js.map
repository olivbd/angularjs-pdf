{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///angular-pdf.min.js","webpack:///webpack/bootstrap b4bc04077762da6bccd0","webpack:///./src/angular-pdf.directive.js","webpack:///./src/angular-pdf.module.js","webpack:///external \"angular\""],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_0__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","./src/angular-pdf.directive.js","NgPdf","$window","$document","$log","backingScale","canvas","ctx","getContext","devicePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","setCanvasDimensions","w","h","ratio","width","Math","floor","height","style","setTransform","initCanvas","element","angular","addClass","existingCanvas","find","length","append","replaceWith","restrict","scope","pdf","onerror","onload","onpagerender","onpassword","onprogress","link","attrs","renderTask","pdfLoaderTask","debug","pdfDoc","limitHeight","limitcanvasheight","createElement","windowEl","css","on","$apply","scroll","scrollY","PDFJS","disableWorker","renderPage","num","_internalRenderTask","cancel","getPage","then","page","viewport","pageWidthScale","renderContext","scale","getViewport","clientRect","getBoundingClientRect","min","canvasContext","render","promise","isFunction","catch","reason","log","clearCanvas","clearRect","renderPDF","console","params","url","withCredentials","usecredentials","httpHeaders","getDocument","onProgress","progressData","onPassword","updatePasswordFn","passwordResponse","_pdfDoc","pageCount","numPages","error","$watch","newVal","oldVal","rotate","destroy","undefined","setAttribute","./src/angular-pdf.module.js","Pdf","_angular","_angular2","obj","default","_angularPdf","directive","0"],"mappings":"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","file":"angular-pdf.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"angular\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"pdf\", [\"angular\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"pdf\"] = factory(require(\"angular\"));\n\telse\n\t\troot[\"pdf\"] = factory(root[\"angular\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","/*!\n * Angular-PDF: An Angularjs directive <ng-pdf> to display PDF in the browser with PDFJS.\n * @version 3.0.1\n * @link https://github.com/olivbd/angular-pdf#readme\n * @license MIT License, http://www.opensource.org/licenses/MIT\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"angular\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"pdf\", [\"angular\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"pdf\"] = factory(require(\"angular\"));\n\telse\n\t\troot[\"pdf\"] = factory(root[\"angular\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./src/angular-pdf.module.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./src/angular-pdf.directive.js\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar NgPdf = exports.NgPdf = [\"$window\", \"$document\", \"$log\", function NgPdf($window, $document, $log) {\n  'ngInject';\n\n  var backingScale = function backingScale(canvas) {\n    var ctx = canvas.getContext('2d');\n    var dpr = $window.devicePixelRatio || 1;\n    var bsr = ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1;\n\n    return dpr / bsr;\n  };\n\n  var setCanvasDimensions = function setCanvasDimensions(canvas, w, h) {\n    var ratio = backingScale(canvas);\n    canvas.width = Math.floor(w * ratio);\n    canvas.height = Math.floor(h * ratio);\n    canvas.style.width = Math.floor(w) + 'px';\n    canvas.style.height = Math.floor(h) + 'px';\n    canvas.getContext('2d').setTransform(ratio, 0, 0, ratio, 0, 0);\n    return canvas;\n  };\n\n  var initCanvas = function initCanvas(element, canvas) {\n    angular.element(canvas).addClass('rotate0');\n\n    var existingCanvas = element.find('canvas');\n    if (existingCanvas.length === 0) {\n      element.append(canvas);\n    } else {\n      existingCanvas.replaceWith(canvas);\n    }\n  };\n\n  return {\n    restrict: 'E',\n    // templateUrl(element, attr) {\n    //   $log.log('attr', attr);\n    //   return attr.templateUrl ? attr.templateUrl : false;\n    // },\n    scope: {\n      pdf: '=',\n      onerror: '&?',\n      onload: '&?',\n      onpagerender: '&?',\n      onpassword: '&?',\n      onprogress: '&?'\n    },\n    link: function link(scope, element, attrs) {\n      var renderTask = null,\n          pdfLoaderTask = null,\n          debug = false,\n          pdfDoc = null,\n          limitHeight = attrs.limitcanvasheight === '1';\n\n      var canvas = $document[0].createElement('canvas');\n      initCanvas(element, canvas);\n\n      debug = attrs.hasOwnProperty('debug') ? attrs.debug : false;\n\n      var ctx = canvas.getContext('2d'),\n          windowEl = angular.element($window);\n\n      element.css('display', 'block');\n\n      windowEl.on('scroll', function () {\n        scope.$apply(function () {\n          scope.scroll = windowEl[0].scrollY;\n        });\n      });\n\n      PDFJS.disableWorker = true;\n\n      scope.renderPage = function (num) {\n        if (renderTask) {\n          renderTask._internalRenderTask.cancel();\n        }\n\n        pdfDoc.getPage(num).then(function (page) {\n          var viewport = void 0;\n          var pageWidthScale = void 0;\n          var renderContext = void 0;\n\n          if (scope.pdf.scale === 'page-fit') {\n            viewport = page.getViewport(1);\n            var clientRect = element[0].getBoundingClientRect();\n            pageWidthScale = clientRect.width / viewport.width;\n            if (limitHeight) {\n              pageWidthScale = Math.min(pageWidthScale, clientRect.height / viewport.height);\n            }\n            scope.pdf.scale = pageWidthScale;\n          }\n          viewport = page.getViewport(scope.pdf.scale);\n\n          setCanvasDimensions(canvas, viewport.width, viewport.height);\n\n          renderContext = {\n            canvasContext: ctx,\n            viewport: viewport\n          };\n\n          renderTask = page.render(renderContext);\n          renderTask.promise.then(function () {\n            if (angular.isFunction(scope.onpagerender)) {\n              scope.onpagerender();\n            }\n          }).catch(function (reason) {\n            $log.log(reason);\n          });\n        });\n      };\n\n      var clearCanvas = function clearCanvas() {\n        if (ctx) {\n          ctx.clearRect(0, 0, canvas.width, canvas.height);\n        }\n      };\n\n      var renderPDF = function renderPDF() {\n        console.log('renderPDF');\n        clearCanvas();\n\n        var params = {\n          url: scope.pdf.url,\n          withCredentials: scope.pdf.usecredentials\n        };\n\n        if (scope.pdf.httpHeaders) {\n          params.httpHeaders = scope.pdf.httpHeaders;\n        }\n\n        if (scope.pdf.url && scope.pdf.url.length) {\n          pdfLoaderTask = PDFJS.getDocument(params);\n          pdfLoaderTask.onProgress = function (progressData) {\n            if (angular.isFunction(scope.onprogress)) {\n              scope.onprogress({ progressData: progressData });\n            }\n          };\n\n          pdfLoaderTask.onPassword = function (updatePasswordFn, passwordResponse) {\n            if (angular.isFunction(scope.onpassword)) {\n              scope.onpassword({ updatePasswordFn: updatePasswordFn, passwordResponse: passwordResponse });\n            }\n          };\n\n          pdfLoaderTask.then(function (_pdfDoc) {\n            if (angular.isFunction(scope.onload)) {\n              scope.onload();\n            }\n\n            pdfDoc = _pdfDoc;\n            scope.renderPage(scope.pdf.page);\n\n            scope.$apply(function () {\n              scope.pdf.pageCount = _pdfDoc.numPages;\n            });\n          }, function (error) {\n            if (error) {\n              if (angular.isFunction(scope.onerror)) {\n                scope.onerror({ error: error });\n              }\n            }\n          });\n        }\n      };\n\n      scope.$watch('pdf.url', function (newVal, oldVal) {\n        if (newVal !== '') {\n          if (debug) {\n            $log.log('pdfUrl value change detected: ', scope.pdf.url);\n          }\n          scope.pdf.page = 1;\n          scope.pdf.rotate = 0;\n          if (pdfLoaderTask) {\n            pdfLoaderTask.destroy().then(function () {\n              renderPDF();\n            });\n          } else {\n            renderPDF();\n          }\n        }\n      });\n\n      scope.$watch('pdf.page', function () {\n        if (scope.pdf.page < 1 || !scope.pdf.page) {\n          scope.pdf.page = 1;\n        } else if (scope.pdf.page > scope.pdf.pageCount) {\n          scope.pdf.page = scope.pdf.pageCount;\n        }\n        if (pdfDoc !== null) {\n          scope.renderPage(scope.pdf.page);\n        }\n      });\n\n      scope.$watch('pdf.rotate', function () {\n        if (scope.pdf.rotate !== undefined) {\n          canvas.setAttribute('class', 'rotate' + scope.pdf.rotate);\n        }\n      });\n\n      scope.$watch('pdf.scale', function () {\n        if (scope.pdf.scale && pdfDoc !== null) {\n          scope.renderPage(scope.pdf.page);\n        }\n      });\n    }\n  };\n}];\n\n/***/ }),\n\n/***/ \"./src/angular-pdf.module.js\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Pdf = undefined;\n\nvar _angular = __webpack_require__(0);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nvar _angularPdf = __webpack_require__(\"./src/angular-pdf.directive.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Pdf = exports.Pdf = _angular2.default.module('pdf', []).directive('ngPdf', _angularPdf.NgPdf).name;\n\nexports.default = Pdf;\n\n/***/ }),\n\n/***/ 0:\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ })\n\n/******/ });\n});\n\n\n// WEBPACK FOOTER //\n// angular-pdf.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/angular-pdf.module.js\");\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b4bc04077762da6bccd0","export const NgPdf = ($window, $document, $log) => {\n  'ngInject';\n\n  const backingScale = canvas => {\n    const ctx = canvas.getContext('2d');\n    const dpr = $window.devicePixelRatio || 1;\n    const bsr = ctx.webkitBackingStorePixelRatio ||\n      ctx.mozBackingStorePixelRatio ||\n      ctx.msBackingStorePixelRatio ||\n      ctx.oBackingStorePixelRatio ||\n      ctx.backingStorePixelRatio || 1;\n\n    return dpr / bsr;\n  };\n\n  const setCanvasDimensions = (canvas, w, h) => {\n    const ratio = backingScale(canvas);\n    canvas.width = Math.floor(w * ratio);\n    canvas.height = Math.floor(h * ratio);\n    canvas.style.width = `${Math.floor(w)}px`;\n    canvas.style.height = `${Math.floor(h)}px`;\n    canvas.getContext('2d').setTransform(ratio, 0, 0, ratio, 0, 0);\n    return canvas;\n  };\n\n  const initCanvas = (element, canvas) => {\n    angular.element(canvas).addClass('rotate0');\n\n    const existingCanvas = element.find('canvas');\n    if (existingCanvas.length === 0) {\n      element.append(canvas);\n    }\n    else {\n      existingCanvas.replaceWith(canvas);\n    }\n  };\n\n  return {\n    restrict: 'E',\n    // templateUrl(element, attr) {\n    //   $log.log('attr', attr);\n    //   return attr.templateUrl ? attr.templateUrl : false;\n    // },\n    scope: {\n      pdf:          '=',\n      onerror:      '&?',\n      onload:       '&?',\n      onpagerender: '&?',\n      onpassword:   '&?',\n      onprogress:   '&?'\n    },\n    link(scope, element, attrs) {\n      let\n        renderTask = null,\n        pdfLoaderTask = null,\n        debug = false,\n        pdfDoc = null,\n        limitHeight = attrs.limitcanvasheight === '1';\n\n      const canvas = $document[0].createElement('canvas');\n      initCanvas(element, canvas);\n\n      debug = attrs.hasOwnProperty('debug') ? attrs.debug : false;\n\n      const\n        ctx = canvas.getContext('2d'),\n        windowEl = angular.element($window);\n\n      element.css('display', 'block');\n\n      windowEl.on('scroll', () => {\n        scope.$apply(() => {\n          scope.scroll = windowEl[0].scrollY;\n        });\n      });\n\n      PDFJS.disableWorker = true;\n\n      scope.renderPage = num => {\n        if (renderTask) {\n          renderTask._internalRenderTask.cancel();\n        }\n\n        pdfDoc.getPage(num).then(page => {\n          let viewport;\n          let pageWidthScale;\n          let renderContext;\n\n          if (scope.pdf.scale === 'page-fit') {\n            viewport = page.getViewport(1);\n            const clientRect = element[0].getBoundingClientRect();\n            pageWidthScale = clientRect.width / viewport.width;\n            if (limitHeight) {\n              pageWidthScale = Math.min(pageWidthScale, clientRect.height / viewport.height);\n            }\n            scope.pdf.scale = pageWidthScale;\n          }\n          viewport = page.getViewport(scope.pdf.scale);\n\n          setCanvasDimensions(canvas, viewport.width, viewport.height);\n\n          renderContext = {\n            canvasContext: ctx,\n            viewport\n          };\n\n          renderTask = page.render(renderContext);\n          renderTask.promise.then(() => {\n            if (angular.isFunction(scope.onpagerender)) {\n              scope.onpagerender();\n            }\n          }).catch(reason => {\n            $log.log(reason);\n          });\n        });\n      };\n\n      const clearCanvas = function () {\n        if (ctx) {\n          ctx.clearRect(0, 0, canvas.width, canvas.height);\n        }\n      };\n\n      const renderPDF = function () {\n        console.log('renderPDF');\n        clearCanvas();\n\n        const params = {\n          url: scope.pdf.url,\n          withCredentials: scope.pdf.usecredentials\n        };\n\n        if (scope.pdf.httpHeaders) {\n          params.httpHeaders = scope.pdf.httpHeaders;\n        }\n\n        if (scope.pdf.url && scope.pdf.url.length) {\n          pdfLoaderTask = PDFJS.getDocument(params);\n          pdfLoaderTask.onProgress = function (progressData) {\n            if (angular.isFunction(scope.onprogress)) {\n              scope.onprogress({progressData: progressData});\n            }\n          };\n\n          pdfLoaderTask.onPassword = function (updatePasswordFn, passwordResponse) {\n            if (angular.isFunction(scope.onpassword)) {\n              scope.onpassword({updatePasswordFn: updatePasswordFn, passwordResponse: passwordResponse});\n            }\n          };\n\n          pdfLoaderTask.then(\n            _pdfDoc => {\n              if (angular.isFunction(scope.onload)) {\n                scope.onload();\n              }\n\n              pdfDoc = _pdfDoc;\n              scope.renderPage(scope.pdf.page);\n\n              scope.$apply(() => {\n                scope.pdf.pageCount = _pdfDoc.numPages;\n              });\n            }, error => {\n              if (error) {\n                if (angular.isFunction(scope.onerror)) {\n                  scope.onerror({error: error});\n                }\n              }\n            }\n          );\n        }\n      };\n\n      scope.$watch('pdf.url', (newVal, oldVal) => {\n        if (newVal !== '') {\n          if (debug) {\n            $log.log('pdfUrl value change detected: ', scope.pdf.url);\n          }\n          scope.pdf.page = 1;\n          scope.pdf.rotate = 0;\n          if (pdfLoaderTask) {\n            pdfLoaderTask.destroy().then(() => {\n              renderPDF();\n            });\n          } else {\n            renderPDF();\n          }\n        }\n      });\n\n      scope.$watch('pdf.page', () => {\n        if (scope.pdf.page < 1 || !scope.pdf.page) {\n          scope.pdf.page = 1;\n        }\n        else if (scope.pdf.page > scope.pdf.pageCount) {\n          scope.pdf.page = scope.pdf.pageCount;\n        }\n        if (pdfDoc !== null) {\n          scope.renderPage(scope.pdf.page);\n        }\n      });\n\n      scope.$watch('pdf.rotate', () => {\n        if (scope.pdf.rotate !== undefined) {\n          canvas.setAttribute('class', 'rotate' + scope.pdf.rotate);\n        }\n      });\n\n      scope.$watch('pdf.scale', () => {\n        if (scope.pdf.scale && pdfDoc !== null) {\n          scope.renderPage(scope.pdf.page);\n        }\n      });\n\n    }\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/angular-pdf.directive.js","import angular from 'angular';\nimport { NgPdf } from './angular-pdf.directive'\n\nexport const Pdf = angular\n  .module('pdf', [])\n  .directive('ngPdf', NgPdf)\n  .name;\n\nexport default Pdf;\n\n\n\n// WEBPACK FOOTER //\n// ./src/angular-pdf.module.js","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"angular\"\n// module id = 0\n// module chunks = 0"],"sourceRoot":""}